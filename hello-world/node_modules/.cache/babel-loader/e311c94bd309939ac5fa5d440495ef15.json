{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\source\\\\repos\\\\Learning\\\\React\\\\hello-world\\\\src\\\\GlobalState\\\\FruitStore.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useReducer } from 'react';\nimport Amy from './Amy.js';\nimport Peter from './Peter.js';\nimport { FruitContext } from \"./GlobalFruitContext.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction FruitStore() {\n  _s();\n\n  //const [apple, setApple] = useState(10); //<--以普通的local state 稍後塞給 GlobalFruitContext\n  // + 設定一個改變 GlobalFruitContext 值的方法，稍後一併塞給 GlobalFruitContext\n  function reducer(amount, action) {\n    switch (action.type) {\n      case 'buy':\n        //客戶的買\n        return amount - action.value;\n\n      case 'sell':\n        //商品的進貨\n        return amount + action.value;\n\n      default:\n        throw new Error();\n    }\n  }\n\n  const [apple, appleDispatch] = useReducer(reducer, 3); //在這裡宣告改變全域值的方法  \n  // Amy 和 Peter 都會隱而不宣的，得到這個方法。\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"FruitStore\",\n      children: [\"\\u76EE\\u524D\\u6C34\\u679C\\u5E97\\u6709 [ \", apple, \" ] \\u500B\\u860B\\u679C\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FruitContext.Provider, {\n      value: {\n        appleContext: apple,\n        setAppleByDispatch: appleDispatch // 將方法，也宣告為全域的。\n\n      },\n      children: [/*#__PURE__*/_jsxDEV(Amy, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Peter, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(FruitStore, \"e7zePJqhTw5zbkiYNiN6qlJP7Gs=\");\n\n_c = FruitStore;\nexport default FruitStore;\n\nvar _c;\n\n$RefreshReg$(_c, \"FruitStore\");","map":{"version":3,"names":["React","useState","useReducer","Amy","Peter","FruitContext","FruitStore","reducer","amount","action","type","value","Error","apple","appleDispatch","appleContext","setAppleByDispatch"],"sources":["C:/Users/User/source/repos/Learning/React/hello-world/src/GlobalState/FruitStore.js"],"sourcesContent":["import React, { useState, useReducer } from 'react';\r\nimport Amy from './Amy.js';\r\nimport Peter from './Peter.js';\r\nimport { FruitContext } from \"./GlobalFruitContext.js\";\r\n\r\nfunction FruitStore() {\r\n    \r\n    //const [apple, setApple] = useState(10); //<--以普通的local state 稍後塞給 GlobalFruitContext\r\n    \r\n    // + 設定一個改變 GlobalFruitContext 值的方法，稍後一併塞給 GlobalFruitContext\r\n    function reducer(amount, action) {\r\n        switch (action.type) {\r\n            case 'buy': //客戶的買\r\n                return amount - action.value;\r\n            case 'sell': //商品的進貨\r\n                return amount + action.value;\r\n            default:\r\n                throw new Error();\r\n        }\r\n    }\r\n    const [apple, appleDispatch] = useReducer(reducer, 3);  //在這裡宣告改變全域值的方法  \r\n    \r\n    // Amy 和 Peter 都會隱而不宣的，得到這個方法。\r\n\r\n    return (\r\n        <>\r\n            <div className=\"FruitStore\">目前水果店有 [ {apple} ] 個蘋果</div>\r\n            {/* 下面那一行，是把這裡的 apple 塞給 FruitContext ，成為一個全域的值。*/}\r\n            <FruitContext.Provider value={{ \r\n                appleContext: apple ,\r\n                setAppleByDispatch: appleDispatch // 將方法，也宣告為全域的。\r\n            }} >\r\n                <Amy />\r\n                <Peter />\r\n            </FruitContext.Provider>\r\n        </>\r\n    );\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default FruitStore;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,OAAOC,GAAP,MAAgB,UAAhB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,SAASC,YAAT,QAA6B,yBAA7B;;;;AAEA,SAASC,UAAT,GAAsB;EAAA;;EAElB;EAEA;EACA,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,MAAzB,EAAiC;IAC7B,QAAQA,MAAM,CAACC,IAAf;MACI,KAAK,KAAL;QAAY;QACR,OAAOF,MAAM,GAAGC,MAAM,CAACE,KAAvB;;MACJ,KAAK,MAAL;QAAa;QACT,OAAOH,MAAM,GAAGC,MAAM,CAACE,KAAvB;;MACJ;QACI,MAAM,IAAIC,KAAJ,EAAN;IANR;EAQH;;EACD,MAAM,CAACC,KAAD,EAAQC,aAAR,IAAyBZ,UAAU,CAACK,OAAD,EAAU,CAAV,CAAzC,CAfkB,CAesC;EAExD;;EAEA,oBACI;IAAA,wBACI;MAAK,SAAS,EAAC,YAAf;MAAA,sDAAsCM,KAAtC;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAGI,QAAC,YAAD,CAAc,QAAd;MAAuB,KAAK,EAAE;QAC1BE,YAAY,EAAEF,KADY;QAE1BG,kBAAkB,EAAEF,aAFM,CAEQ;;MAFR,CAA9B;MAAA,wBAII,QAAC,GAAD;QAAA;QAAA;QAAA;MAAA,QAJJ,eAKI,QAAC,KAAD;QAAA;QAAA;QAAA;MAAA,QALJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ;EAAA,gBADJ;AAeH;;GAlCQR,U;;KAAAA,U;AAsCT,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}