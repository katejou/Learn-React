{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\source\\\\repos\\\\Learning\\\\React\\\\hello-world\\\\src\\\\intergratePractice\\\\ProgressDIY.js\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProgressDIY extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      percent: 0\n    };\n    this.increase = this.increase.bind(this);\n    this.decrease = this.decrease.bind(this);\n  }\n\n  increase() {\n    const percent = this.state.percent + 1;\n    this.setState({\n      percent\n    }, () => {\n      if (this.state.percent >= this.props.value) {\n        return;\n      }\n\n      this.tm = setTimeout(this.increase, 20);\n    });\n  }\n\n  decrease() {\n    const percent = this.state.percent - 1;\n    this.setState({\n      percent\n    }, () => {\n      if (this.state.percent <= this.props.value) {\n        return;\n      }\n\n      this.tmTwo = setTimeout(this.decrease, 20);\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      percent: this.props.value\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.value > this.props.value) {\n      if (this.tm) clearTimeout(this.tm);\n      this.decrease();\n    } else if (prevProps.value < this.props.value) {\n      if (this.tmTwo) clearTimeout(this.tmTwo);\n      this.increase();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-back\",\n        style: {\n          backgroundColor: \"rgba(0,0,0,0.2)\",\n          width: \"200px\",\n          height: \"7px\",\n          borderRadius: \"10px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          style: {\n            backgroundColor: \"#fe5196\",\n            width: this.state.percent.toString() + \"%\",\n            height: \"100%\",\n            borderRadius: \"10px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), \"\\u76EE\\u524D\\u6BD4\\u7387: \", this.state.percent, \"%\", /*#__PURE__*/_jsxDEV(\"button\", {\n        value: 90,\n        onClick: this.props.onClick,\n        children: \"\\u589E\\u52A0\\u6BD4\\u7387\\u81F390\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        value: 10,\n        onClick: this.props.onClick,\n        children: \"\\u6E1B\\u5C11\\u6BD4\\u7387\\u81F310\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default ProgressDIY;","map":{"version":3,"names":["React","Component","ProgressDIY","constructor","props","state","percent","increase","bind","decrease","setState","value","tm","setTimeout","tmTwo","componentDidMount","componentDidUpdate","prevProps","prevState","clearTimeout","render","backgroundColor","width","height","borderRadius","toString","onClick"],"sources":["C:/Users/User/source/repos/Learning/React/hello-world/src/intergratePractice/ProgressDIY.js"],"sourcesContent":["import React, { Component } from 'react';\r\nclass ProgressDIY extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={ \r\n        percent:0,\r\n    }\r\n    this.increase=this.increase.bind(this);\r\n    this.decrease=this.decrease.bind(this);\r\n  }\r\n\r\n  increase() {\r\n    const percent = this.state.percent + 1;\r\n    this.setState({ percent },()=>{\r\n      if (this.state.percent >= this.props.value) {\r\n        return;\r\n      }\r\n      this.tm = setTimeout(this.increase, 20);\r\n    });  \r\n  }\r\n\r\n  decrease() {\r\n    const percent = this.state.percent - 1;\r\n    this.setState({ percent },()=>{\r\n      if (this.state.percent <= this.props.value) {\r\n        return;\r\n      }\r\n      this.tmTwo = setTimeout(this.decrease, 20);\r\n    });  \r\n  }\r\n\r\n\r\n  componentDidMount(){\r\n        this.setState({percent:this.props.value})\r\n  }\r\n\r\n\r\n  componentDidUpdate(prevProps, prevState){\r\n    if(prevProps.value>this.props.value){\r\n        if(this.tm)\r\n          clearTimeout(this.tm);\r\n        this.decrease();\r\n    }\r\n    else if(prevProps.value<this.props.value){\r\n      if(this.tmTwo)\r\n        clearTimeout(this.tmTwo);\r\n      this.increase();\r\n    }\r\n  }\r\n\r\n    render(){\r\n        return(\r\n        <div>\r\n            <div className=\"progress-back\" style={{backgroundColor:\"rgba(0,0,0,0.2)\",width:\"200px\",height:\"7px\",borderRadius:\"10px\"}}>\r\n              <div className=\"progress-bar\" style={{backgroundColor:\"#fe5196\",width:this.state.percent.toString()+\"%\",height:\"100%\",borderRadius:\"10px\"}}></div>\r\n            </div>\r\n            目前比率: {this.state.percent}%\r\n            <button value={90} onClick={this.props.onClick}>增加比率至90</button>\r\n            <button value={10} onClick={this.props.onClick}>減少比率至10</button>\r\n        </div>\r\n        );\r\n    }\r\n}\r\nexport default ProgressDIY;"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;AACA,MAAMC,WAAN,SAA0BD,SAA1B,CAAmC;EACjCE,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAW;MACPC,OAAO,EAAC;IADD,CAAX;IAGA,KAAKC,QAAL,GAAc,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAd;IACA,KAAKC,QAAL,GAAc,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAd;EACD;;EAEDD,QAAQ,GAAG;IACT,MAAMD,OAAO,GAAG,KAAKD,KAAL,CAAWC,OAAX,GAAqB,CAArC;IACA,KAAKI,QAAL,CAAc;MAAEJ;IAAF,CAAd,EAA0B,MAAI;MAC5B,IAAI,KAAKD,KAAL,CAAWC,OAAX,IAAsB,KAAKF,KAAL,CAAWO,KAArC,EAA4C;QAC1C;MACD;;MACD,KAAKC,EAAL,GAAUC,UAAU,CAAC,KAAKN,QAAN,EAAgB,EAAhB,CAApB;IACD,CALD;EAMD;;EAEDE,QAAQ,GAAG;IACT,MAAMH,OAAO,GAAG,KAAKD,KAAL,CAAWC,OAAX,GAAqB,CAArC;IACA,KAAKI,QAAL,CAAc;MAAEJ;IAAF,CAAd,EAA0B,MAAI;MAC5B,IAAI,KAAKD,KAAL,CAAWC,OAAX,IAAsB,KAAKF,KAAL,CAAWO,KAArC,EAA4C;QAC1C;MACD;;MACD,KAAKG,KAAL,GAAaD,UAAU,CAAC,KAAKJ,QAAN,EAAgB,EAAhB,CAAvB;IACD,CALD;EAMD;;EAGDM,iBAAiB,GAAE;IACb,KAAKL,QAAL,CAAc;MAACJ,OAAO,EAAC,KAAKF,KAAL,CAAWO;IAApB,CAAd;EACL;;EAGDK,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAsB;IACtC,IAAGD,SAAS,CAACN,KAAV,GAAgB,KAAKP,KAAL,CAAWO,KAA9B,EAAoC;MAChC,IAAG,KAAKC,EAAR,EACEO,YAAY,CAAC,KAAKP,EAAN,CAAZ;MACF,KAAKH,QAAL;IACH,CAJD,MAKK,IAAGQ,SAAS,CAACN,KAAV,GAAgB,KAAKP,KAAL,CAAWO,KAA9B,EAAoC;MACvC,IAAG,KAAKG,KAAR,EACEK,YAAY,CAAC,KAAKL,KAAN,CAAZ;MACF,KAAKP,QAAL;IACD;EACF;;EAECa,MAAM,GAAE;IACJ,oBACA;MAAA,wBACI;QAAK,SAAS,EAAC,eAAf;QAA+B,KAAK,EAAE;UAACC,eAAe,EAAC,iBAAjB;UAAmCC,KAAK,EAAC,OAAzC;UAAiDC,MAAM,EAAC,KAAxD;UAA8DC,YAAY,EAAC;QAA3E,CAAtC;QAAA,uBACE;UAAK,SAAS,EAAC,cAAf;UAA8B,KAAK,EAAE;YAACH,eAAe,EAAC,SAAjB;YAA2BC,KAAK,EAAC,KAAKjB,KAAL,CAAWC,OAAX,CAAmBmB,QAAnB,KAA8B,GAA/D;YAAmEF,MAAM,EAAC,MAA1E;YAAiFC,YAAY,EAAC;UAA9F;QAArC;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADJ,gCAIW,KAAKnB,KAAL,CAAWC,OAJtB,oBAKI;QAAQ,KAAK,EAAE,EAAf;QAAmB,OAAO,EAAE,KAAKF,KAAL,CAAWsB,OAAvC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QALJ,eAMI;QAAQ,KAAK,EAAE,EAAf;QAAmB,OAAO,EAAE,KAAKtB,KAAL,CAAWsB,OAAvC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QANJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADA;EAUH;;AA5D8B;;AA8DnC,eAAexB,WAAf"},"metadata":{},"sourceType":"module"}